{% extends "recipes/base.html" %}
{% block content %}
<div class="row">
  <div class="col-10">
    <h2 class="recipe-detail-title text-truncate">{{ recipe.title }}</h2>
  </div>
  {% if recipe.author == user%}
  <div class="col-2">
    <a href="{% url 'recipe-update' recipe.id %}" class="btn text-dark"><i class="fas fa-edit"></i></a>
    <a href="{% url 'recipe-delete' recipe.id %}" class="btn text-danger"><i class="fas fa-trash"></i></a>
  </div>
  {% endif %}
</div>
<hr>

<div class="row">
  <div class="col-md-6">
    {% include "recipes/image_slideshow.html" with images=recipe.get_images %}
  </div>
  <div class="col-md-6">
    <div>
      {{ recipe.introduction }}
    </div>
    <hr>
    <div class="row mb-2">
      <div class="col-sm-2 col-md-1">
        <i class="far fa-clock clock-icon fa-lg"></i>
      </div>
      <div>{{ recipe.prep_time }}</div>
    </div>
    <div class="row mb-2">
      <div class="col-sm-2 col-md-1">
        <i class="fas fa-utensils servings-icon fa-lg"></i>
      </div>

      <form class="form-inline">
        <div class="form-group mb-2 col-xs-2">
          <label for="number_servings" class="sr-only">Portionen</label>
          <input class="form-control form-control-sm" type="number" step="any" name="number_servings"
            value="{{ servings }}">
        </div>
        <button type="submit" class="btn btn-sm"><i class="fas fa-sync-alt"></i></button>
      </form>
    </div>
    <div class="row mb-">
      <a class="col-sm-6 col-md-3 recipe-detail-link" href="{% url 'user-recipes' recipe.author.username %}">
        <i class="fas fa-user fa-lg mr-2"></i>{{ recipe.author.username }}
      </a>
    </div>

    <hr>
    {% for cat in recipe.get_categories %}
    <div class="row mb-2">
      <a href="{% url 'category-recipes' cat.title %}" class="badge badge-light">{{ cat.title }}</a>
    </div>
    {% endfor %}
  </div>
</div>
<hr>

<h5 class="recipe-detail-ingredients">Zutaten</h5>
<ul>
  {% for ing in ingredients %}
  <li>{{ ing }}</li>
  {% endfor %}
</ul>
<hr>

<h5 class="recipe-detail-instructions">Zubereitung</h5>
<p>{{ recipe.directions|linebreaks }}</p>
<hr>

<h7 class="recipe-detail-instructions">Anmerkungen</h7>
<p>{{ recipe.notes|linebreaks }}</p>

{% endblock content %}